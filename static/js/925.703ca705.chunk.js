"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[925],{925:function(e,s,t){t.r(s),t.d(s,{default:function(){return G}});var i=t(1413),o=t(5671),r=t(3144),n=t(136),l=t(516),a=t(2791),c="Profile_div__2I3LH",u=t(9439),d={parent:"ProfileInfo_parent__wA5vB",descriptionBlock:"ProfileInfo_descriptionBlock__VRz1-",profileInfo:"ProfileInfo_profileInfo__-SRcn",buttonEdit:"ProfileInfo_buttonEdit__Ei-6w",description:"ProfileInfo_description__sdl7y",itemDescriprion:"ProfileInfo_itemDescriprion__h6-Gi",userPhoto:"ProfileInfo_userPhoto__CBVp3",btn:"ProfileInfo_btn__v5ABF",contact:"ProfileInfo_contact__YWxc9",customInputFile:"ProfileInfo_customInputFile__ZIvwc",status:"ProfileInfo_status__FRCsu"},p=t(7672),f=t(184),h=function(e){var s=(0,a.useState)(!1),t=(0,u.Z)(s,2),i=t[0],o=t[1],r=(0,a.useState)(e.status),n=(0,u.Z)(r,2),l=n[0],c=n[1];(0,a.useEffect)((function(){c(e.status)}),[e.status]);return(0,f.jsxs)("div",{children:[!i&&(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("span",{children:"Status: "}),(0,f.jsx)("span",{"data-hint":"Double click to change status",className:d.tooltip,onDoubleClick:function(){o(!0)},children:e.status||"non status"})]}),i&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(l)},autoFocus:!0,value:l})})]})},D=t(9392),B=t(5987),m=t(820),v=t(7307),x=t(704),j=["handleSubmit"],_=(0,x.Z)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var s=e.handleSubmit,t=(0,B.Z)(e,j);return(0,f.jsxs)("form",{onSubmit:s,children:[(0,f.jsx)("div",{className:d.buttonEdit,children:(0,f.jsx)("button",{children:"save"})}),t.error&&(0,f.jsx)("div",{className:m.Z.formSummaryError,children:t.error}),(0,f.jsxs)("div",{className:d.description,children:[(0,f.jsxs)("div",{className:d.itemDescriprion,children:[(0,f.jsxs)("div",{children:["\u041c\u043e\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:",(0,v.Gr)("Full name","fullName",[],v.II)]}),(0,f.jsxs)("div",{children:["Looking for a job:",(0,v.Gr)("","lookingForAJob",[],v.II,{type:"checkbox"})]}),(0,f.jsxs)("div",{children:["My professional skills:",(0,v.Gr)("My professional skills","lookingForAJobDescription",[],v.gx)]}),(0,f.jsxs)("div",{children:["About me:",(0,v.Gr)("About me","aboutMe",[],v.gx)]})]}),(0,f.jsxs)("div",{className:d.itemDescriprion,children:["\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",Object.keys(t.profile.contacts).map((function(e){return(0,f.jsxs)("div",{className:d.contact,children:[e,": ",(0,v.Gr)(e,"contacts."+e,[],v.II)]},e)}))]})]})]})})),P=function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:d.buttonEdit,children:e.isOwner&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:e.goToEditMode,children:"edit"})})}),(0,f.jsxs)("div",{className:d.description,children:[(0,f.jsxs)("div",{className:d.itemDescriprion,children:[(0,f.jsxs)("div",{children:["\u041c\u043e\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",e.profile.fullName]}),(0,f.jsxs)("div",{children:[" Looking for a job: ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob?(0,f.jsxs)("div",{children:[" My professional skills: ",e.profile.lookingForAJobDescription]}):null,(0,f.jsxs)("div",{children:[" About me: ",e.profile.aboutMe]})]}),(0,f.jsxs)("div",{className:d.itemDescriprion,children:["\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",Object.keys(e.profile.contacts).map((function(s){return(0,f.jsx)(b,{contactTitle:s,contactValue:e.profile.contacts[s]},s)}))]})]})]})},b=function(e){var s=e.contactTitle,t=e.contactValue;return t&&(0,f.jsxs)("div",{className:d.contact,children:[s," : ",t]})},k=function(e){var s=(0,a.useState)(!1),t=(0,u.Z)(s,2),i=t[0],o=t[1];if(!e.profile)return(0,f.jsx)(p.Z,{});return(0,f.jsx)("div",{className:d.parent,children:(0,f.jsxs)("div",{className:d.descriptionBlock,children:[(0,f.jsx)("img",{src:null!=e.profile.photos.large?e.profile.photos.large:D,className:d.userPhoto}),(0,f.jsx)("div",{className:d.btn,children:e.isOwner&&(0,f.jsxs)("label",{children:[" \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",(0,f.jsx)("input",{className:d.customInputFile,type:"file",onChange:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])}})]})}),(0,f.jsx)(h,{status:e.status,updateStatus:e.updateStatus}),(0,f.jsx)("div",{className:d.profileInfo,children:i?(0,f.jsx)(_,{profile:e.profile,initialValues:e.profile,onSubmit:function(s){e.saveProfile(s).then((function(){o(!1)}))}}):(0,f.jsx)(P,{goToEditMode:function(){o(!0)},profile:e.profile,isOwner:e.isOwner})})]})})},g=t(6508),I="MyPosts_posts__tMpGD",E="MyPosts_postsBlock__FYrE9",N="Post_item__BsETF",y=function(e){return(0,f.jsxs)("div",{className:N,children:[(0,f.jsx)("img",{src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek="}),e.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["Like ",e.likesCount]})})]})},S=t(6139),F=t(8610),C=a.memo((function(e){console.log("renderer");var s=e.posts.map((function(e){return(0,f.jsx)(y,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,f.jsxs)("div",{className:E,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)("div",{children:(0,f.jsx)("div",{children:(0,f.jsx)(A,{onSubmit:function(s){e.addPost(s.newPostText)}})})}),(0,f.jsx)("div",{className:I,children:s})]})})),A=(0,x.Z)({form:"profileAddPostForm"})((function(e){return(0,f.jsx)("form",{onSubmit:e.handleSubmit,children:(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(S.Z,{component:v.gx,placeholder:"Enter you text",name:"newPostText",validate:[F.C,(0,F.D)(10)]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})})),w=C,Z=t(8687),M=(0,Z.$j)((function(e){return{posts:e.profileReducer.posts}}),(function(e){return{addPost:function(s){e((0,g.WA)(s))}}}))(w),O=function(e){return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)(k,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,f.jsx)(M,{})]})},R=t(2537),T=t(7781),U=function(e){(0,n.Z)(t,e);var s=(0,l.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){console.log("refreshProfile");var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId)||this.props.router.navigate("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(O,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(a.Component),G=(0,T.qC)((0,Z.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authorizedUserId:e.authReducer.id,isAuth:e.authReducer.isAuth}}),{getUserProfile:g.et,getStatus:g.lR,updateStatus:g.Nf,savePhoto:g.Ju,saveProfile:g.Ii}),R.E)(U)}}]);
//# sourceMappingURL=925.703ca705.chunk.js.map