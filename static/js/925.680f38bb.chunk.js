"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[925],{925:function(e,s,t){t.r(s),t.d(s,{default:function(){return W}});var i=t(1413),o=t(2791),r=t(8687),n=t(7781),l=t(6508),a="Profile_div__jUonr",c=t(9439),u="ProfileInfo_parent__TUr0-",d="ProfileInfo_descriptionBlock__+lP38",f="ProfileInfo_profileInfo__ABHz+",D="ProfileInfo_buttonEdit__n3Wjw",h="ProfileInfo_description__MELVX",p="ProfileInfo_itemDescriprion__0QJQl",j="ProfileInfo_userPhoto__AY4pz",x="ProfileInfo_btn__DO+sA",B="ProfileInfo_contact__rDl4F",m="ProfileInfo_customInputFile__bGfxC",v="ProfileInfo_status__PUKre",_=t(2328),P=t(184),b=function(e){var s=(0,o.useState)(!1),t=(0,c.Z)(s,2),i=t[0],r=t[1],n=(0,o.useState)(e.status),l=(0,c.Z)(n,2),a=l[0],u=l[1];(0,o.useEffect)((function(){u(e.status)}),[e.status]);return(0,P.jsxs)("div",{children:[!i&&(0,P.jsxs)("div",{children:[" ",(0,P.jsx)("span",{children:"Status: "}),(0,P.jsx)("span",{"data-hint":"Double click to change status",className:v,onDoubleClick:function(){r(!0)},children:e.status||"non status"})]}),i&&(0,P.jsx)("div",{children:(0,P.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(a)},autoFocus:!0,value:a})})]})},g=t(9392),k=t(5987),I=t(820),N=t(7307),E=t(704),S=["handleSubmit"],y=(0,E.Z)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var s=e.handleSubmit,t=(0,k.Z)(e,S);return(0,P.jsxs)("form",{onSubmit:s,children:[(0,P.jsx)("div",{className:D,children:(0,P.jsx)("button",{children:"save"})}),t.error&&(0,P.jsx)("div",{className:I.Z.formSummaryError,children:t.error}),(0,P.jsxs)("div",{className:h,children:[(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("div",{children:["\u041c\u043e\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:",(0,N.Gr)("Full name","fullName",[],N.II)]}),(0,P.jsxs)("div",{children:["Looking for a job:",(0,N.Gr)("","lookingForAJob",[],N.II,{type:"checkbox"})]}),(0,P.jsxs)("div",{children:["My professional skills:",(0,N.Gr)("My professional skills","lookingForAJobDescription",[],N.gx)]}),(0,P.jsxs)("div",{children:["About me:",(0,N.Gr)("About me","aboutMe",[],N.gx)]})]}),(0,P.jsxs)("div",{className:p,children:["\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",Object.keys(t.profile.contacts).map((function(e){return(0,P.jsxs)("div",{className:B,children:[e,": ",(0,N.Gr)(e,"contacts."+e,[],N.II)]},e)}))]})]})]})})),A=function(e){return(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:D,children:e.isOwner&&(0,P.jsx)("div",{children:(0,P.jsx)("button",{onClick:e.goToEditMode,children:"edit"})})}),(0,P.jsxs)("div",{className:h,children:[(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("div",{children:["\u041c\u043e\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",e.profile.fullName]}),(0,P.jsxs)("div",{children:[" Looking for a job: ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob?(0,P.jsxs)("div",{children:[" My professional skills: ",e.profile.lookingForAJobDescription]}):null,(0,P.jsxs)("div",{children:[" About me: ",e.profile.aboutMe]})]}),(0,P.jsxs)("div",{className:p,children:["\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",Object.keys(e.profile.contacts).map((function(s){return(0,P.jsx)(C,{contactTitle:s,contactValue:e.profile.contacts[s]},s)}))]})]})]})},C=function(e){var s=e.contactTitle,t=e.contactValue;return t&&(0,P.jsxs)("div",{className:B,children:[s," : ",t]})},F=function(e){var s=(0,o.useState)(!1),t=(0,c.Z)(s,2),i=t[0],r=t[1];if(!e.profile)return(0,P.jsx)(_.Z,{});return(0,P.jsx)("div",{className:u,children:(0,P.jsxs)("div",{className:d,children:[(0,P.jsx)("img",{src:null!=e.profile.photos.large?e.profile.photos.large:g,className:j}),(0,P.jsx)("div",{className:x,children:e.isOwner&&(0,P.jsxs)("label",{children:[" \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",(0,P.jsx)("input",{className:m,type:"file",onChange:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])}})]})}),(0,P.jsx)(b,{status:e.status,updateStatus:e.updateStatus}),(0,P.jsx)("div",{className:f,children:i?(0,P.jsx)(y,{profile:e.profile,initialValues:e.profile,onSubmit:function(s){e.saveProfile(s).then((function(){r(!1)}))}}):(0,P.jsx)(A,{goToEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner})})]})})},w="MyPosts_posts__hzmu9",M="MyPosts_postsBlock__Ty9qI",O="Post_item__Jb482",T=function(e){return(0,P.jsxs)("div",{className:O,children:[(0,P.jsx)("img",{src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek="}),e.message,(0,P.jsx)("div",{children:(0,P.jsxs)("span",{children:["Like ",e.likesCount]})})]})},U=t(6139),Z=t(8610),J=o.memo((function(e){console.log("renderer");var s=e.posts.map((function(e){return(0,P.jsx)(T,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,P.jsxs)("div",{className:M,children:[(0,P.jsx)("h3",{children:"My posts"}),(0,P.jsx)("div",{children:(0,P.jsx)("div",{children:(0,P.jsx)(z,{onSubmit:function(s){e.addPost(s.newPostText)}})})}),(0,P.jsx)("div",{className:w,children:s})]})})),z=(0,E.Z)({form:"profileAddPostForm"})((function(e){return(0,P.jsx)("form",{onSubmit:e.handleSubmit,children:(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{children:(0,P.jsx)(U.Z,{component:N.gx,placeholder:"Enter you text",name:"newPostText",validate:[(0,Z.D)(300)]})}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Add post"})})]})})})),R=J,G=(0,r.$j)((function(e){return{posts:e.profileReducer.posts}}),(function(e){return{addPost:function(s){e((0,l.WA)(s))}}}))(R),L=function(e){return(0,P.jsxs)("div",{className:a,children:[(0,P.jsx)(F,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,P.jsx)(G,{})]})},V=t(2537),W=(0,n.qC)((0,r.$j)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authorizedUserId:e.authReducer.id,isAuth:e.authReducer.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju,saveProfile:l.Ii}),V.E)((function(e){return(0,o.useEffect)((function(){!function(){console.log("refreshProfile");var s=e.router.params.userId;s||(s=e.authorizedUserId)||e.router.navigate("/login"),e.getUserProfile(s),e.getStatus(s)}()}),[e.router.params.userId]),(0,P.jsx)(L,(0,i.Z)((0,i.Z)({},e),{},{isOwner:!e.router.params.userId,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}))}))}}]);
//# sourceMappingURL=925.680f38bb.chunk.js.map