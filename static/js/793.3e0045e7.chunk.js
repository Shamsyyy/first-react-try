"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[793],{6793:function(s,e,t){t.r(e),t.d(e,{default:function(){return U}});var i=t(1413),r=t(5671),o=t(3144),n=t(136),a=t(516),u=t(2791),l="Profile_div__2I3LH",c="ProfileInfo_descriptionBlock__LAu4e",d="ProfileInfo_description__4hVDD",p="ProfileInfo_itemDescriprion__BFPJT",D="ProfileInfo_userPhoto__waV-c",h=t(7672),f=t(9439),B=t(184),x=function(s){var e=(0,u.useState)(!1),t=(0,f.Z)(e,2),i=t[0],r=t[1],o=(0,u.useState)(s.status),n=(0,f.Z)(o,2),a=n[0],l=n[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,B.jsxs)("div",{children:[!i&&(0,B.jsx)("div",{children:(0,B.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"non status"})}),i&&(0,B.jsx)("div",{children:(0,B.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},onBlur:function(){r(!1),s.updateStatus(a)},autoFocus:!0,value:a})})]})},j=t(9392),m=function(s){if(!s.profile)return(0,B.jsx)(h.Z,{});return(0,B.jsx)("div",{children:(0,B.jsxs)("div",{className:c,children:[(0,B.jsx)("img",{src:null!=s.profile.photos.large?s.profile.photos.large:j,className:D}),(0,B.jsx)("div",{children:s.isOwner&&(0,B.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s.savePhoto(e.target.files[0])}})}),(0,B.jsx)(x,{status:s.status,updateStatus:s.updateStatus}),(0,B.jsxs)("div",{className:d,children:[(0,B.jsx)("div",{className:p,children:s.profile.aboutMe}),(0,B.jsxs)("div",{className:p,children:["\u041c\u043e\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",s.profile.fullName]}),(0,B.jsxs)("div",{className:p,children:["\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:",(0,B.jsxs)("ul",{children:[(0,B.jsxs)("li",{children:["Facebook: ",s.profile.contacts.facebook]}),(0,B.jsxs)("li",{children:["Website: ",s.profile.contacts.website]}),(0,B.jsxs)("li",{children:["VK: ",s.profile.contacts.vk]}),(0,B.jsxs)("li",{children:["Twitter: ",s.profile.contacts.twitter]}),(0,B.jsxs)("li",{children:["Instagram: ",s.profile.contacts.instagram]}),(0,B.jsxs)("li",{children:["Youtube: ",s.profile.contacts.youtube]}),(0,B.jsxs)("li",{children:["Github: ",s.profile.contacts.github]}),(0,B.jsxs)("li",{children:["MainLink: ",s.profile.contacts.mainLink]})]})]})]})]})})},v=t(6508),P="MyPosts_posts__tMpGD",g="MyPosts_postsBlock__FYrE9",_="Post_item__BsETF",k=function(s){return(0,B.jsxs)("div",{className:_,children:[(0,B.jsx)("img",{src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek="}),s.message,(0,B.jsx)("div",{children:(0,B.jsxs)("span",{children:["Like ",s.likesCount]})})]})},E=t(6139),b=t(704),C=t(8610),y=t(7307),S=u.memo((function(s){console.log("renderer");var e=s.posts.map((function(s){return(0,B.jsx)(k,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,B.jsxs)("div",{className:g,children:[(0,B.jsx)("h3",{children:"My posts"}),(0,B.jsx)("div",{children:(0,B.jsx)("div",{children:(0,B.jsx)(w,{onSubmit:function(e){s.addPost(e.newPostText)}})})}),(0,B.jsx)("div",{className:P,children:e})]})})),w=(0,b.Z)({form:"profileAddPostForm"})((function(s){return(0,B.jsx)("form",{onSubmit:s.handleSubmit,children:(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{children:(0,B.jsx)(E.Z,{component:y.gx,placeholder:"Enter you text",name:"newPostText",validate:[C.C,(0,C.D)(10)]})}),(0,B.jsx)("div",{children:(0,B.jsx)("button",{children:"Add post"})})]})})})),I=S,N=t(8687),F=(0,N.$j)((function(s){return{posts:s.profileReducer.posts}}),(function(s){return{addPost:function(e){s((0,v.WA)(e))}}}))(I),Z=function(s){return(0,B.jsxs)("div",{className:l,children:[(0,B.jsx)(m,{profile:s.profile,isOwner:s.isOwner,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto}),(0,B.jsx)(F,{})]})},A=t(2537),M=t(7781),T=function(s){(0,n.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){console.log("refreshProfile");var s=this.props.router.params.userId;s||(s=this.props.authorizedUserId)||this.props.router.navigate("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,B.jsx)(Z,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(u.Component),U=(0,M.qC)((0,N.$j)((function(s){return{profile:s.profileReducer.profile,status:s.profileReducer.status,authorizedUserId:s.authReducer.id,isAuth:s.authReducer.isAuth}}),{getUserProfile:v.et,getStatus:v.lR,updateStatus:v.Nf,savePhoto:v.Ju}),A.E)(T)}}]);
//# sourceMappingURL=793.3e0045e7.chunk.js.map